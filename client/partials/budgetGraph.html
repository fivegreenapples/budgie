<div ng-if="label" style="width:742px;text-align:left;margin:auto;padding:2px 10px;">{{label}}</div>
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg version="1.1"
     xmlns="http://www.w3.org/2000/svg"
     xmlns:xlink="http://www.w3.org/1999/xlink"
     x="0"
     y="0"
     width="742"
     height="120"
     viewBox="0, 0, 742, 120"
     preserveAspectRatio="none">
	
	<g>

		<g transform="translate(10,0)">
			<g>
				<rect ng-repeat="m in tags.weekdays track by $index" 
				      ng-attr-x="{{m * 2}}" 
				      y="0" 
				      height="120" 
				      width="2" 
				      fill="#f9f9f9"></rect>
			</g>
			<g>
				<rect ng-repeat="m in tags.weekenddays track by $index" 
				      ng-attr-x="{{m * 2}}" 
				      y="0" 
				      height="120" 
				      width="2" 
				      fill="#efefef"></rect>
			</g>
			<g>
				<rect ng-repeat="m in tags.months track by $index" 
				      ng-attr-x="{{m * 2}}" 
				      y="0" 
				      height="120" 
				      width="0.5" 
				      fill="#999"></rect>
			</g>
			<g transform="translate(0,60) scale(1,-1)">

				<line x1="0" y1="-47.75" x2="742" y2="-47.75" stroke-width="0.5" stroke="#bbb" />
				<line x1="0" y1="-35.75" x2="742" y2="-35.75" stroke-width="0.5" stroke="#bbb" />
				<line x1="0" y1="-23.75" x2="742" y2="-23.75" stroke-width="0.5" stroke="#bbb" />
				<line x1="0" y1="-11.75" x2="742" y2="-11.75" stroke-width="0.5" stroke="#bbb" />


				<line x1="0" y1="11.75"  x2="742" y2="11.75"  stroke-width="0.5" stroke="#bbb" />
				<line x1="0" y1="23.75"  x2="742" y2="23.75"  stroke-width="0.5" stroke="#bbb" />
				<line x1="0" y1="35.75"  x2="742" y2="35.75"  stroke-width="0.5" stroke="#bbb" />
				<line x1="0" y1="47.75"  x2="742" y2="47.75"  stroke-width="0.5" stroke="#bbb" />

				<g ng-attr-transform="scale(1,{{60/maxBarHeight}})">
					<rect ng-repeat="v in vals track by $index" 
					      ng-attr-x="{{(v.x * 2)-0.5}}" 
					      y="0" 
					      ng-attr-height="{{v.h}}" 
					      width="3" 
					      fill="#4356f4"></rect>
				</g>
				<g ng-attr-transform="scale(1,-{{60/maxBarHeight}})">
					<rect ng-repeat="v in negativeVals track by $index" 
					      ng-attr-x="{{(v.x * 2)-0.5}}" 
					      y="0" 
					      ng-attr-height="{{v.h}}" 
					      width="3" 
					      fill="#f06789"></rect>
				</g>

				<!-- stick x-axis above everything -->
				<line x1="-10" y1="-0.25" x2="742" y2="-0.25" stroke-width="0.5" stroke="#444" />
				<!-- almost everything -->
				<g ng-if="cumulativePath" ng-attr-transform="translate(0,-0.5) scale(1,{{60/maxBarHeight}})">
					<path vector-effect="non-scaling-stroke" ng-attr-d="{{cumulativePath}}" stroke-width="1" stroke="#0b5" fill="none" />
				</g>
				<g ng-if="cumulativePathLinear" ng-attr-transform="translate(0,-0.5) scale(1,{{cumulativeLinearScale}})">
					<path vector-effect="non-scaling-stroke" ng-attr-d="{{cumulativePathLinear}}" stroke-width="1" stroke="#0b5" fill="none" />
				</g>


			</g>
		</g>


	</g>
</svg>

 